<div id="content">
  <div class="filter-col p-3" data-simplebar *ngIf="abc123">
   
    <h6 class="mt-3 font-weight-bold">Filter Options</h6>
    <div class="mt-4 d-flex justify-content-around">
      <div class="d-flex flex-column align-items-center">
        <a href="javascript:void(0);" class="data-action" data-target="#loadFilterModal" data-toggle="modal">
          <i class="fa fa-upload"></i></a>
        <span class="text-muted">Load</span>
      </div>
      <div class="d-flex flex-column align-items-center">
        <a href="javascript:void(0);" class="data-action" data-target="#saveFilterModal" data-toggle="modal"><i
          class="fa fa-download"></i></a>
        <span class="text-muted">Save</span>
      </div>
      <div class="d-flex flex-column align-items-center" >
        <a href="javascript:void(0);" class="data-action"><i class="fa fa-times-circle"></i></a>
        <span class="text-muted"  >Clear</span>
      </div>
    </div>
    <hr>
    <!-- <div class="mb-2">
      <div class="input-group">
        <input type="text" class="form-control" placeholder="Search">
        <div class="input-group-append">
          <span class="input-group-text"><i class="fa fa-search"></i></span>
        </div>
      </div>
      <div class="d-flex justify-content-end">
        <a class="text-muted" href="javascript:void(0);">clear all filters</a>
      </div>
    </div> -->
    <div class="panel-group mt-1" role="tablist" id="filterAccordion" aria-multiselectable="true">
      <ng-container *ngFor="let filter of filters; let filterIndex=index">
        <div class="panel panel-default">
          <div class="panel-heading" role="tab" [id]="filter.key">
            <h4 class="panel-title">
              <a role="button" data-toggle="collapse" data-parent="#filterAccordion"
                 [href]="'#' + filter.key + 'filter'"
                 aria-expanded="true" [attr.aria-controls]="filter.key + 'filter'"
                 (click)="filter.isExpanded = !filter.isExpanded">
                {{ filter.name }}
                <i class="fa float-right" [ngClass]="[ filter.isExpanded ? 'fa-minus' : 'fa-plus' ]"></i>
              </a>
            </h4>
          </div>
          <div [id]="filter.key + 'filter'" class="panel-collapse collapse" role="tabpanel"
               [attr.aria-labelledby]="filter.key">
            <div class="panel-body">
              <ul class="m-0">
                <li class="d-flex" *ngFor="let value of filter.values;">
                  <div>
                    <input class="mr-1" type="checkbox" [(ngModel)]="value.isChecked"
                           (change)="onFilterCheckBoxChange()">
                  </div>
                  <p class="m-0">{{ value.name }}</p>
                </li>
              </ul>
            </div>
          </div>
        </div>





      </ng-container>
    </div>









    <div class="panel-group mt-1" role="tablist" id="filterAccordion" aria-multiselectable="true">
      <ng-container *ngFor="let filter of filters1; let filterIndex=index">
        <div class="panel panel-default">
          <div class="panel-heading" role="tab" [id]="filter.key">
            <h4 class="panel-title">
              <a role="button" data-toggle="collapse" data-parent="#filterAccordion"
                 [href]="'#' + filter.key + 'filter'"
                 aria-expanded="true" [attr.aria-controls]="filter.key + 'filter'"
                 (click)="filter.isExpanded = !filter.isExpanded">
                {{ filter.name }}
                <i class="fa float-right" [ngClass]="[ filter.isExpanded ? 'fa-minus' : 'fa-plus' ]"></i>
              </a>
            </h4>
          </div>
          <div [id]="filter.key + 'filter'" class="panel-collapse collapse" role="tabpanel"
               [attr.aria-labelledby]="filter.key">
            <div class="panel-body">
              <ul class="m-0">
                <li class="d-flex" *ngFor="let value of filter.values;">
                  <div>
                    <input class="mr-1" type="checkbox" [(ngModel)]="value.isChecked"
                           (change)="onFilterCheckBoxChange1()">
                  </div>
                  <p class="m-0">{{ value.name }}</p>
                </li>
              </ul>
            </div>
          </div>
        </div>





      </ng-container>
    </div>
    <hr>
 

    <div class="panel-group mt-1" role="tablist" id="filterAccordion" aria-multiselectable="true">
      <ng-container *ngFor="let filter of filters2; let filterIndex=index">
        <div class="panel panel-default">
          <div class="panel-heading" role="tab" [id]="filter.key">
            <h4 class="panel-title">
              <a role="button" data-toggle="collapse" data-parent="#filterAccordion"
                 [href]="'#' + filter.key + 'filter'"
                 aria-expanded="true" [attr.aria-controls]="filter.key + 'filter'"
                 (click)="filter.isExpanded = !filter.isExpanded">
                {{ filter.name }}
                <i class="fa float-right" [ngClass]="[ filter.isExpanded ? 'fa-minus' : 'fa-plus' ]"></i>
              </a>
            </h4>
          </div>
          <div [id]="filter.key + 'filter'" class="panel-collapse collapse" role="tabpanel"
               [attr.aria-labelledby]="filter.key">
            <div class="panel-body">
              <ul class="m-0">
                <li class="d-flex" *ngFor="let value of filter.values;">
                  <div>
                    <input class="mr-1" type="checkbox" [(ngModel)]="value.isChecked"
                           (change)="onFilterCheckBoxChange2()">
                  </div>
                  <p class="m-0">{{ value.name }}</p>
                </li>
              </ul>
            </div>
          </div>
        </div>





      </ng-container>
    </div>


  </div>



  <div class="row content-col mb-2" id="upper_middle" > 
      <div class="col-12 " >
        <div class="bg-white shadow mt-2" style="background: #003228;">
          <div class="d-flex justify-content-between align-items-center p-1" style="background:#003228;">
           <div class="d-flex justify-content-between align-items-center ml-2 pt-2" style="background:#003228;">
          
                  <!-- <p class="ml-2 text-muted">Load Week 201937</p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  -->
                  <div style="font-size: 49px;">
                  <i style="color: #ecf0f1;" class="fa fa-check-circle fa-10x" data-toggle="modal"
                  data-target="#saveAPlansModal"></i>
                  </div>
                  <!-- <a href="javascript:void(0);" class="btn btn-primary custom-link btn-xs" data-toggle="modal"
                  data-target="#saveAPlansModal">Save </a> -->
            
                  <!-- </div>
                  <div> -->
                    &nbsp;&nbsp;&nbsp;&nbsp;
                      <input type="week" value="2019-W38" id="startWeek"  name="startWeek" readonly>
                      &nbsp;&nbsp;To&nbsp;&nbsp;
                           
           
            <input type="week" id="endWeek" value="2020-W04" name="endWeek" (change)="color_change()" required>
           
         

                      &nbsp;&nbsp;   <i style="size:100px;cursor: pointer;color:grey;" id="arrow" class="fa fa-arrow-right fa-lg"  (click)="tick()"></i>
                      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                      <p style="margin-top: 15px;
                      padding: 7px;
                      border-radius: 15px;
                      cursor: pointer;
                      line-height: 1.5;
                      color: #495057;
                      background:#ecf0f1;
                      border: 1px #ecf0f1;" (click)="test1('year')">Yearly View</p>

                    




                  </div> 
        
                   
                   
              
                    

               <!-- <a href="javascript:void(0);" class="btn btn-primary custom-link btn-xs ml-1" disabled data-toggle="modal"
                  data-target="#saveAViewsModal">Save View</a> -->
                
                  <div class="d-flex justify-content-around align-items-center" style="margin-right: 10px;padding-top: .5rem!important;">
                   
                   
                    <div class="form-group m-0 mr-1" style="margin-right: 10px;">
                      <select class="form-control p-0 pr-1" #t1 name="plant" (change)="test1(t1.value)">
                        <option selected value="week" >Weekly View</option>
                        <option value="month">Monthly View</option>
               
                      </select>
                    </div>
                    
  
                    <i style="margin-left: 20px;color: #ecf0f1;" class="fa fa-arrows-alt fa-lg"  (click)="abc12()"></i>&nbsp;
                 
                  </div>
                </div>
               </div>
             
      
      
      
      
      
      
      
            </div>
           
          <!-- </div>
      
        </div> -->

  </div>


  



  <div class="row content-col mb-2" id="middle">
    <div class="col-12 " >
      <div class="bg-white shadow mt-2">
        <div class="d-flex justify-content-between align-items-center p-1">
          <div class="d-flex justify-content-between align-items-center ml-2 pt-2">
            <p class="font-weight-bold">Planning table (HL)</p>
        


            <!-- <p class="ml-2 text-muted">Load Week 25</p> -->
          </div>
          <div>
          </div>

       
       <!-- <a href="javascript:void(0);" class="btn btn-primary custom-link btn-xs ml-1" disabled data-toggle="modal"
          data-target="#saveAViewsModal">Save View</a> -->
          <div class="d-flex justify-content-around align-items-center">
      
          </div>
        </div>
        <div class="d-flex">
          <div class="table-header-col">
            <table>
              <thead>
              <tr class="header-text invisible">
                <th class="font-weight-bold">
                  <p class="m-0 week-block"> XXXX</p>
                </th>
              </tr>
              <tr class="header-text">
                <th class="font-weight-bold">
                  <p class="m-0 week-block">Final Forecast</p>
                </th>
              </tr>
              <tr class="header-text">
                <th class="font-weight-bold">
                  <p class="m-0 week-block" style="font-size:10px">Fcst Value Add</p>
                </th>
              </tr>
              <tr (click)="putValueInFinal('ML')" class="ml-text">
                <th class="font-weight-bold">
                  <p class="m-0 week-block"> ML Forecast</p>
                </th>
              </tr>
              <tr (click)="putValueInFinal('APO')" class="aop-text">
                <th class="font-weight-bold">
                  <p class="m-0 week-block">APO Forecast</p>
                </th>
              </tr>
              <tr class="actual-text">
                <th class="font-weight-bold">
                  <p class="m-0 week-block">Actuals</p>
                </th>
              </tr>
              <tr class="header-text">
                <th class="font-weight-bold">
                  <p class="m-0 week-block">Actuals LY</p>
                </th>
              </tr>

              <tr class="header-text">
                  <th class="font-weight-bold">
                    <p class="m-0 week-block">Open Order</p>
                  </th>
                </tr>
              </thead>
            </table>
          </div>
          <div class="table-content-col">
            <div class="panel panel-default">
              <div class="center-block fix-width scroll-inner">
                <table class="table table-striped">
                  <thead>
                  <tr>
                    <th class="font-weight-bold" *ngFor="let data of graphData">
                      <p class="m-0 week-block" [class.highlight]="data.comments?.length">  {{data.newweek}}</p>
                    </th>
                  </tr>
                  </thead>
                  <tbody>
                  <tr>
                    <ng-container *ngFor="let data of graphData; let i=index">
                      <td class="font-weight-bold cursor-pointer"
                          [ngClass]="{ 'colored-td': data.calenderYearWeek >= createPlanRequestData.startWeek }"
                          (click)="comments(i)">
                        {{ data.finalForecast }}
                      </td>
                    </ng-container>
                  </tr>
                  <tr>
                    <ng-container *ngFor="let data of graphData; let i=index">
                      <td (dblclick)="data.ml !== undefined && onDblClickInput(i)"
                          [ngClass]="{ 'colored-td': data.calenderYearWeek >= createPlanRequestData.startWeek }">
                        <input type="text" class="table-inputbox" (blur)="onValueBlur(data.calenderYearWeek, i)"
                               [ngClass]="{ 'colored-table-inputbox': data.calenderYearWeek >= createPlanRequestData.startWeek }"
                               (input)="onValueInput(data.calenderYearWeek, i)" [disabled]="data.ml === undefined"
                               [class.disabled]="data.ml === undefined"
                               [(ngModel)]="data.fcstValueAdd">
                      </td>
                    </ng-container>
                  </tr>
                  <tr>
                    <td *ngFor="let data of graphData"
                        [ngClass]="{ 'colored-td': data.calenderYearWeek >= createPlanRequestData.startWeek }">
                      {{ data.ml }}
                    </td>
                  </tr>
                  <tr>
                    <td *ngFor="let data of graphData"
                        [ngClass]="{ 'colored-td': data.calenderYearWeek >= createPlanRequestData.startWeek }">
                      {{ data.apo }}
                    </td>
                  </tr>
                  <tr>
                    <td *ngFor="let data of graphData"
                        [ngClass]="{ 'colored-td': data.calenderYearWeek >= createPlanRequestData.startWeek }">
                      {{ data.actuals }}
                    </td>
                  </tr>
                  <tr>
                    <td *ngFor="let data of graphData"
                        [ngClass]="{ 'colored-td': data.calenderYearWeek >= createPlanRequestData.startWeek }">
                      {{ data.actualslastyear }}
                    </td>

                    
                  </tr>
                  <tr>
                      <td *ngFor="let data of graphData"
                          [ngClass]="{ 'colored-td': data.calenderYearWeek >= createPlanRequestData.startWeek }">
                        {{ data.harshit }}
                      </td>
  
                      
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
          <div class="table-footer-col">
            <table>
              <tr>
                <th class="font-weight-bold">
                  <p class="m-0 week-block" style="font-size: 0.6rem;">Total</p>
                </th>
              </tr>
              <tr>
                <th class="font-weight-bold">
                  <p class="m-0 week-block">{{ totalData.finalCastTotal }}</p>
                </th>
              </tr>
              <tr>
                <th class="font-weight-bold">
                  <p class="m-0 week-block">{{ forecastadd  }}</p>
                </th>
              </tr>
              <tr>
                <th class="font-weight-bold">
                  <p class="m-0 week-block">{{ totalData.mlTotal }}</p>
                </th>
              </tr>
              <tr>
                <th class="font-weight-bold">
                  <p class="m-0 week-block">{{ totalData.apoTotal }}</p>
                </th>
              </tr>
              <tr>
                <th class="font-weight-bold">
                  <p class="m-0 week-block">{{ totalData.actuals }}</p>
                </th>
              </tr>
              <tr>
                <th class="font-weight-bold">
                  <p class="m-0 week-block">{{ totalData.lastYearTotal }}</p>
                </th>
              </tr>
              <tr>
                  <th class="font-weight-bold">
                    <p class="m-0 week-block">{{ totalData.harshit }}</p>
                  </th>
                </tr>
            </table>
          </div>
        </div>
        <div class="p-2 text-center">
          <!-- <a href="javascript:void(0);" class="btn btn-primary custom-link btn-xs" data-toggle="modal"
             data-target="#saveAPlansModal">Save Plan</a> -->
          <!-- <a href="javascript:void(0);" class="btn btn-primary custom-link btn-xs ml-1" disabled data-toggle="modal"
             data-target="#saveAViewsModal">Save View</a> -->
        </div>
      </div>

      <div class="bg-white rounded shadow mt-2">
        <div class="d-flex justify-content-between align-items-center p-1">
          <div class="d-flex justify-content-between align-items-center ml-2 pt-2">
            <p class="font-weight-bold">Forecast Analysis (HL)</p>



            <!-- <p class="ml-2 text-muted">Load Week 25</p> -->
          </div>
         
        </div>

        <div id="chartContainer1" style="height: 370px; width: 100%; margin-left:auto;margin-right:auto;"></div>
      </div>

      <div class="bg-white rounded shadow mt-2">
        <div class="d-flex justify-content-between pt-1 pr-1">
          <p class="font-weight-bold ml-2 pt-2">Feature Analysis (HL)</p>
          <div class="form-group m-0">
            <select name="plant" #t class="minimal form-control" id="checking" (change)="test(t.value)">
              <option selected value="Baseline">Baseline</option>
              <option value="Promo">Promo Effect</option>
              <option value="Weather">Weather effect</option>

              <option value="Open">Open order</option>
            </select>
          </div>
        </div>
        <div id="chartContainer2" style="height: 150px; width: 100%; margin-left:auto;margin-right:auto;">

        </div>
        <div class="data-strip d-none">
          <ul>
            <li>201910</li>
            <li>201915</li>
            <li>201920</li>
            <li>201925</li>
            <li>201930</li>
            <li>201935</li>
            <li>201940</li>
          </ul>
        </div>
      </div>


    </div>
  </div>







  
  <div class="events-col " *ngIf="second">
    <div class="events-container shadow mt-1 mb-1 p-2 bg-white" data-simplebar>
      <!-- <div class="mt-2">
        <h4>Features</h4>
        <div class="m-1 p-1 d-flex">
          <div>
            <input class="mr-1" type="checkbox">
          </div>
          <p class="m-0">Promo Effect</p>
        </div>
        <div class="m-1 p-1 d-flex">
          <div>
            <input class="mr-1" type="checkbox">
          </div>
          <p class="m-0">Weather Effect</p>
        </div>

      </div> -->
<!-- 
      <button type="button" class="btn btn-primary d-block w-100" (click)="onChangeParameters('change-sku')">FG</button>
      <button type="button" class="btn btn-primary d-block w-100 mt-2" (click)="onChangeParameters('change-cpg-and-plant')">Cpg/Plant</button>
      <button type="button" class="btn btn-primary d-block w-100 mt-2" (click)="onChangeParameters()">Horizon</button> -->

      <div class="mb-2" style="margin-top: 20px;">
          <div>
            <span style="font-weight: bold;">Forecasting Group</span>
           
          </div>
          <a class="text-muted float-right" href="javascript:void(0);" (click)="clearAllSKUs()">Clear all FG</a>

          <div class="input-group mt-2">
             <input type="text" class="form-control" [(ngModel)]="searchText" name="searchSKU" placeholder="Search FG">
            <div class="input-group-append">
              <span class="input-group-text"><i class="fa fa-search"></i></span>
            </div>
          </div>
        </div>
        <div class="mb-2" style="max-height: 300px; overflow: auto;font-size: 12px;" data-simplebar>
          <!-- <div class="bg-white mt-1 p-1 pl-2 d-flex" *ngFor="let sku of skus | filter: getCallback(); let i=index"> -->
              <div class="bg-white mt-1 p-1 pl-2 d-flex" *ngFor="let sku of skus; let i=index">
            <div style="margin-top: 3px;">
              <input class="mr-1" type="checkbox" [(ngModel)]="sku.isChecked" (change)="onFilterCheckBoxChange()">
            </div>
            <p class="m-0">{{ sku.name }}</p>
          </div>
        </div>

      <div class="mt-2" *ngIf="selectedWeekComments.length">
        <span style="font-weight: bold">Comments</span>
        <div class="block m-1 p-1 d-flex" *ngFor="let fi of finn; let i=index" (dblclick)="Dbledit(i)">
            
          <p style="font-size: 10px" >{{ fi.sku }}</p>
          <br><hr>
            <p style="font-size: 12px" >{{ fi.comment }}</p>
          
          <!-- <input class="m-0 text-break" type="text" value="{{comm1[1]}}"> -->
        </div>
      </div>
    </div>


  </div>
</div>

<!--Select Options Modal-->
<a href="javascript:void(0);" [hidden]="true" data-target="#selectOptionsModal" data-toggle="modal"
   #selectOptionsModalBtn>Open Options Modal</a>
<div class="modal select-options-modal" id="selectOptionsModal" tabindex="-1" role="dialog" data-backdrop="static">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"
                [class.invisible]="!graphData.length" #selectOptionsModalCancel>
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <app-create-plan [events]="eventsSubject.asObservable()"
                         (submit)="eventListener($event)"></app-create-plan>
      </div>
    </div>
  </div>
</div>

<!--Save a Plan Modal-->
<a href="javascript:void(0);" [hidden]="true" data-target="#saveAPlansModal" data-toggle="modal" #saveAPlansModalBtn>Save
  a Plan Modal</a>
<div class="modal fade save-plan-modal" id="saveAPlansModal" tabindex="-1" role="dialog" data-backdrop="static"
     aria-labelledby="saveAPlansModal">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Save the Plan</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close" #PlanNameModalBtn><span
          aria-hidden="true">&times;</span></button>
      </div>
      <div class="modal-body">
        <div class="d-flex justify-content-center">
          <button type="button" (click)="savePlan()" class="btn btn-secondary custom-link btn-xs mr-2">Yes
            <ng-container *ngIf="savePlanLoader">
              <i class="fa fa-spinner fa-spin" aria-hidden="true"></i>
            </ng-container>
          </button>
          <button type="button" data-dismiss="modal" aria-label="Close" class="btn btn-secondary custom-link btn-xs">
            No
          </button>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Save View modal-->
<a href="javascript:void(0);" [hidden]="true" data-target="#saveAViewsModal" data-toggle="modal" #saveAViewsModalBtn>Save
  a View Modal</a>
<div class="modal fade save-plan-modal" id="saveAViewsModal" tabindex="-1" role="dialog" data-backdrop="static"
     aria-labelledby="saveAViewsModal">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Save the View</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close" #ViewNameModalBtn><span
          aria-hidden="true">&times;</span></button>
      </div>
      <div class="modal-body">
        <form #saveViewForm="ngForm">
          <input type="text" class="form-control" id="viewName" name="viewName" placeholder="Please enter the view Name"
                 #saveViewName ngModel required>
          <p class="text-center mt-4">
            <button type="submit" [disabled]="!saveViewForm.valid" (click)="saveView(saveViewName.value)"
                    class="btn btn-secondary custom-link btn-xs" [class.disabled]="!saveViewForm.valid">Ok
              <ng-container *ngIf="saveViewLoader">
                <i class="fa fa-spinner fa-spin" aria-hidden="true"></i>
              </ng-container>
            </button>
          </p>
        </form>
      </div>
    </div>
  </div>
</div>

<!--Graph Comment Modal-->
<a href="javascript:void(0);" [hidden]="true" data-target="#commentFormModal" data-toggle="modal" #commentFormModalBtn>Open
  Graph Comment Form Modal</a>
<div class="modal fade comment-modal" id="commentFormModal" tabindex="-1" role="dialog" data-backdrop="static">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Comment</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close" #commentFormModalCancel>
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <form #commentForm="ngForm">
          <div class="form-group">
            <label class="d-none" for="comment">
              Comment
            </label>
            <input type="text" class="form-control" id="comment" name="comment" placeholder="eg. Comment" ngModel
                   required>
          </div>
          <button type="submit" class="btn float-right btn-secondary" [disabled]="!commentForm.valid"
                  [ngClass]="{'disabled': !commentForm.valid}"
                  (click)="onCommentFormSubmit(commentForm,commentForm.value)">Submit
          </button>
        </form>
      </div>
    </div>
  </div>
</div>

<!--Final Forecast Comment Modal-->
<a href="javascript:void(0);" [hidden]="true" data-target="#finalForecastCommentModal" data-toggle="modal"
   #finalForecastCommentModalBtn>Open Graph Comment Form Modal</a>
<div class="modal fade final-comment-modal" id="finalForecastCommentModal" tabindex="-1" role="dialog"
     data-backdrop="static">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Comment</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close" #finalForecastCommentModalCancel
                (click)="selectedWeekIndex=null;finalForecastCommentForm.resetForm()">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <form #finalForecastCommentForm="ngForm">
          <div class="form-group">
            <label class="d-none" for="finalForecastComment">
              Comment
            </label>
            <input type="text" class="form-control" id="finalForecastComment" name="comment" placeholder="eg. Comment"
                   ngModel required>
          </div>
          <button type="submit" class="btn float-right btn-dark" [disabled]="!finalForecastCommentForm.valid"
                  [ngClass]="{'disabled': !finalForecastCommentForm.valid}"
                  (click)="onFinalForecastCommentSubmit(finalForecastCommentForm.value)">Submit
          </button>
        </form>
      </div>
    </div>
  </div>
</div>







<!--EDIT Comment Modal-->
<a href="javascript:void(0);" [hidden]="true" data-target="#editCommentModal" data-toggle="modal"
   #editCommentModalBtn>Open Graph Comment Form Modal</a>
<div class="modal fade final-comment-modal" id="editCommentModal" tabindex="-1" role="dialog"
     data-backdrop="static">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Comment</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close" #editCommentModalBtnCancel
                (click)="selectedWeekIndex=null;editCommentForm.resetForm()">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <form #editCommentForm="ngForm">
          <div class="form-group">
            <label class="d-none" for="finalForecastComment">
              Comment
            </label>
            <input type="text" class="form-control" value="{{comm1[0]}}"id="finalForecastComment" name="comment" placeholder="eg. Comment"
                   ngModel required>
          </div>
          <button type="submit" class="btn float-right btn-dark" [disabled]="!editCommentForm.valid"
                  [ngClass]="{'disabled': !editCommentForm.valid}"
                  (click)="editCommentSubmit(editCommentForm.value,comm1[1])">Submit
          </button>
        </form>
      </div>
    </div>
  </div>
</div>





<!--Save Filter Modal-->
<a href="javascript:void(0);" [hidden]="true" data-target="#saveFilterModal" data-toggle="modal" #saveFilterModal>Open
  Save Filter Modal</a>
<div class="modal fade save-filter-modal" id="saveFilterModal" tabindex="-1" role="dialog" data-backdrop="static">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Save Filter</h5>
        <button type="button" class="close invisible" data-dismiss="modal" aria-label="Close" #saveFilterModalCancel>
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <form #saveFilterModalForm="ngForm">
          <div>
            <div class="form-group">
              <label for="filterName">
                <span>Filter Name</span>
              </label>
              <input type="text" class="form-control" id="filterName" name="filterName" #filterName ngModel
                     placeholder="eg. Green Bottles" required>
            </div>
          </div>
          <div class="d-flex justify-content-between">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">
              Cancel
            </button>
            <button type="submit" class="btn btn-dark" [disabled]="!filterName.value"
                    [ngClass]="{'disabled': !filterName.value}"
                    (click)="saveFilter(filterName.value)">Save Changes
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>

<!--Load Filter Modal-->
<a href="javascript:void(0);" [hidden]="true" data-target="#loadFilterModal" data-toggle="modal" #loadFilterModal>Open
  Load Filter Modal</a>
<div class="modal fade load-filter-modal" id="loadFilterModal" tabindex="-1" role="dialog" data-backdrop="static">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Load Filter</h5>
        <button type="button" class="close invisible" data-dismiss="modal" aria-label="Close" #loadFilterModalCancel>
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input placeholder="Search Filters" [(ngModel)]="searchText" type="text">
        <br/>
        <br/>
        <form #saveFilterModalForm="ngForm">

          <ng-container *ngFor="let filter of loadedFilters | filter : getCallback() ;let i=index ">
            <div class="filter-item shadow-sm cursor-pointer" [class.selected]="filter.isSelected"
                 (click)="filterItemClick(i)">
              {{ i + 1 }}<span> {{ filter.name }}</span>
            </div>
          </ng-container>

          <div class="d-flex justify-content-between">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
            <button type="button" class="btn btn-dark" (click)="loadSelectedFilter()">Load Selected</button>
          </div>
        </form>


        
      </div>
    </div>
  </div>
</div>
